# üåô Ghost CMS Publishing Standard v1.3

## üìã –û–±–∑–æ—Ä

–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ HeroesGPT –∞–Ω–∞–ª–∏–∑–∞ –≤ Ghost CMS –±–ª–æ–≥–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π.

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –û–®–ò–ë–ö–ò (v1.1)

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **URL –¥–ª—è 2022_RU –±–ª–æ–≥–∞**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å `https://rick.ai/blog/ru/` –Ω–∞ `https://rick.ai/blog/ru`
2. **API endpoints**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è Ghost API v2 (2022_RU) –∏ v5.0 (2025)
3. **JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï** - —Å–µ–∫—Ä–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ hex –±–∞–π—Ç—ã
4. **JWT audience**: ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï** - v2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/v2/admin/`, v5.0 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/admin/`
5. **API –≤–µ—Ä—Å–∏–∏**: 2022_RU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç v2 (Ghost 3.18), 2025 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç v5.0
6. **Ghost –≤–µ—Ä—Å–∏–∏**: 2022_RU = Ghost 3.18, 2025 = Ghost 5.x

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **2025 Blog**: ‚úÖ 100% —É—Å–ø–µ—à–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è (2/2 —Å—Ç–∞—Ç—å–∏)
- **2022_RU Blog**: ‚úÖ API v2 –¥–æ—Å—Ç—É–ø–µ–Ω (403 Forbidden - –æ–∂–∏–¥–∞–µ–º–æ)
- **JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–∞ –≤ hex –±–∞–π—Ç—ã
- **JWT audience**: ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ audience –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ API
- **API endpoints**: ‚úÖ –û–±–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- **Ghost –≤–µ—Ä—Å–∏–∏**: ‚úÖ 2022_RU = 3.18, 2025 = 5.x

### üîó –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

1. **HeroesGPT Analysis Report**: <http://5.75.239.205/p/870fafd7-8968-4f1c-bdd8-4b3b9685bbab/>
2. **Ghost CMS Integration Guide**: <http://5.75.239.205/p/d64426f8-6354-4741-a1af-d553a5ed8485/>

## üîë –ö–ª—é—á–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

### ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –Ω–µ–π–º–∏–Ω–≥–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

#### 2025 Blog

- `GHOST_URL_2025` –∏–ª–∏ `GHOST_2025_API_URL`
- `GHOST_ADMIN_KEY_2025` –∏–ª–∏ `GHOST_2025_ADMIN_KEY` (Admin key: id:secret)
- `GHOST_CONTENT_KEY_2025` –∏–ª–∏ `GHOST_2025_CONTENT_KEY`

#### 2022_RU Blog

- `GHOST_URL_2022_RU` –∏–ª–∏ `GHOST_API_URL_2022_RU`
- `GHOST_ADMIN_KEY_2022_RU`
- `GHOST_CONTENT_KEY_2022_RU`

### üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ URL

- –í URL —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π —Å–∞–π—Ç –≤–∏–¥–∞ `https://site.tld` (–±–µ–∑ `/api`)
- –ö–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç `/ghost/api/admin` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è 2025 –±–ª–æ–≥–∞
- **–í–ê–ñ–ù–û**: –î–ª—è 2022_RU –±–ª–æ–≥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/blog/ru` –≤ URL
- **–í–ê–ñ–ù–û**: 2022_RU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API v2 (Ghost 3.18), 2025 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API v5.0

### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û: –ù–ï –î–û–ë–ê–í–õ–Ø–¢–¨ –ü–û–†–¢–´ –í –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Æ

**–ò–Ω—Ü–∏–¥–µ–Ω—Ç 2025-08-15:** –û—à–∏–±–æ—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ :8080 –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

- **‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:** `GHOST_URL_2025=http://5.75.239.205:8080/`
- **‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:** `GHOST_URL_2025=http://5.75.239.205/`

**–ü—Ä–∏—á–∏–Ω–∞:** Ghost API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL —Å –ø–æ—Ä—Ç–æ–º –≤ –æ—Ç–≤–µ—Ç–∞—Ö, –Ω–æ —ç—Ç–æ –ù–ï –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ü–æ—Ä—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ `ERR_CONNECTION_REFUSED`.

**–ü—Ä–∞–≤–∏–ª–æ:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–π URL –±–µ–∑ –ø–æ—Ä—Ç–∞, Ghost API —Å–∞–º –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ—Ä—Ç –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ URL.

## üîê JWT –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è Ghost API v5.0 –∏ v2

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

```python
def _generate_ghost_jwt(self, api_key: str) -> str:
    """
    Generate JWT token for Ghost Admin API v5.0
    Fixed according to working implementation
    """
    try:
        import re
        # Clean and split API key
        api_key = re.sub(r'\s+', '', api_key)
        if ':' not in api_key:
            raise ValueError("Admin key must be in 'id:secret' format")

        key_id, secret = api_key.split(':', 1)

        # ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Convert secret to hex bytes
        secret_bytes = None
        try:
            secret_bytes = bytes.fromhex(secret)  # Convert hex string to bytes
        except ValueError:
            # Fallback to string encoding if not hex
            secret_bytes = secret.encode()

        # ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: Different audience for different API versions
        import time
        current_time = int(time.time())
        if api_version == "v2":
            payload = {
                "iat": current_time - 60,
                "exp": current_time + 300,
                "aud": "/v2/admin/"  # Correct audience for v2
            }
        else:  # v5.0
            payload = {
                "iat": current_time - 60,
                "exp": current_time + 300,
                "aud": "/admin/"  # Correct audience for v5.0
            }

        # Generate JWT token with kid in header (correct format)
        headers = {"kid": key_id, "alg": "HS256", "typ": "JWT"}
        token = jwt.encode(payload, secret_bytes, algorithm='HS256', headers=headers)
        return token

    except Exception as e:
        print(f"Warning: JWT generation failed, using API key directly: {e}")
        # Fallback to using API key directly
        return api_key
```

### üîß JWT –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞**: `id:secret` (Admin key)
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: HS256
- **Header**: `{"kid": key_id, "alg": "HS256", "typ": "JWT"}`
- **Payload**:
  - `iat`: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è - 60 —Å–µ–∫—É–Ω–¥
  - `exp`: —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
  - `aud`: "/admin/" (v5.0) –∏–ª–∏ "/v2/admin/" (v2)
- **‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: –°–µ–∫—Ä–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ hex –±–∞–π—Ç—ã
- **‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: –†–∞–∑–Ω—ã–µ audience –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π API
- **Fallback**: –ü—Ä–∏ –æ—à–∏–±–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –∫–ª—é—á –Ω–∞–ø—Ä—è–º—É—é
- **API –≤–µ—Ä—Å–∏–∏**: v5.0 –¥–ª—è 2025 –±–ª–æ–≥–∞, v2 –¥–ª—è 2022_RU –±–ª–æ–≥–∞ (Ghost 3.18)

## üåê API Endpoints

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –¥–ª—è –±–ª–æ–≥–æ–≤

#### 2025 Blog

- **Base URL**: `http://5.75.239.205/`
- **Admin API**: `http://5.75.239.205/ghost/api/admin`
- **Content API**: `http://5.75.239.205/ghost/api/content`

#### 2022_RU Blog

- **Base URL**: `https://rick.ai/blog/ru` (–° /blog/ru/)
- **Ghost Version**: 3.18 (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏–∑ HTML –∫–æ–¥–∞)
- **Admin API**: `https://rick.ai/blog/ru/ghost/api/v2/admin`
- **Content API**: `https://rick.ai/blog/ru/ghost/api/v2/content`

### üîß API Headers

```python
# –î–ª—è 2025 –±–ª–æ–≥–∞ (API v5.0)
headers = {
    'Authorization': f'Ghost {jwt_token}',
    'Content-Type': 'application/json',
    'Accept-Version': 'v5.0'
}

# –î–ª—è 2022_RU –±–ª–æ–≥–∞ (API v2 - Ghost 3.18)
headers = {
    'Authorization': f'Ghost {jwt_token}',
    'Content-Type': 'application/json',
    'Accept-Version': 'v2.0'
}
```

## üìù –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤

### POST /ghost/api/admin/posts/ —Å —Ç–µ–ª–æ–º

```json
{
  "posts": [
    {
      "title": "HeroesGPT Analysis Report",
      "html": "<p>Content...</p>",
      "excerpt": "Analysis summary",
      "tags": [
        { "name": "heroes-gpt" },
        { "name": "landing-analysis" },
        { "name": "conversion-optimization" }
      ],
      "featured": false,
      "status": "draft",
      "meta_title": "SEO title",
      "meta_description": "SEO description",
      "created_at": "2025-08-13T22:00:00.000Z",
      "updated_at": "2025-08-13T22:00:00.000Z"
    }
  ]
}
```

### üîß –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏

- `#unlisted` - —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Å—Ç –∏–∑ –ª–µ–Ω—Ç —Ç–µ–º–æ–π
- `email_recipient_filter: "none"` - –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç —Ä–∞—Å—Å—ã–ª–∫–∏

## üöÄ MCP Workflow Integration

### –î–æ—Å—Ç—É–ø–Ω—ã–µ MCP –∫–æ–º–∞–Ω–¥—ã

1. `ghost-publish-analysis` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è HeroesGPT –∞–Ω–∞–ª–∏–∑–∞
2. `ghost-publish-document` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
3. `heroes-ghost-integration` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HeroesGPT + Ghost

### üîß **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò –î–õ–Ø MCP –ö–û–ú–ê–ù–î**

#### `ghost-publish-analysis`

```python
"""
CRITICAL: This function automatically publishes to BOTH blogs:
- 2025 Blog (API v5.0, Ghost 5.x)
- 2022_RU Blog (API v2, Ghost 3.18)

JWT Requirements:
- 2025: audience="/admin/", secret as hex bytes
- 2022_RU: audience="/v2/admin/", secret as hex bytes

URL Requirements:
- 2025: http://5.75.239.205/
- 2022_RU: https://rick.ai/blog/ru (NO trailing slash)

Fallback Strategy:
- If one blog fails, continue with the other
- Return success if at least one blog publishes successfully
"""
```

#### `ghost-publish-document`

```python
"""
CRITICAL: This function publishes to BOTH blogs with content adaptation:
- 2025 Blog: Full content, primary audience
- 2022_RU Blog: Adapted content, archive audience

Content Adaptation Rules:
- 2025: Use original title and content
- 2022_RU: May require title translation/adaptation
- Both: Same tags and metadata structure
"""
```

### üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HeroesGPT

```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞
heroes_result = await analyze_landing_mcp({"url": content_input})
if heroes_result.get("success"):
    ghost_publish_result = publish_heroes_analysis_to_ghost_simple(
        heroes_result, publish_options
    )
```

## üìù **–¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –¢–ï–ö–°–¢–£ –ò –ö–û–ù–¢–ï–ù–¢–£**

### üîß **–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –±–ª–æ–≥–æ–≤**

#### 2025 Blog (–û—Å–Ω–æ–≤–Ω–æ–π)

- **–Ø–∑—ã–∫**: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
- **–ö–æ–Ω—Ç–µ–Ω—Ç**: –ü–æ–ª–Ω—ã–π HeroesGPT –∞–Ω–∞–ª–∏–∑
- **–ê—É–¥–∏—Ç–æ—Ä–∏—è**: –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- **–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω—ã–π –±–ª–æ–≥

#### 2022_RU Blog (–ê—Ä—Ö–∏–≤–Ω—ã–π)

- **–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π (–º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏)
- **–ö–æ–Ω—Ç–µ–Ω—Ç**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HeroesGPT –∞–Ω–∞–ª–∏–∑
- **–ê—É–¥–∏—Ç–æ—Ä–∏—è**: –ê—Ä—Ö–∏–≤–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- **–°—Ç–∞—Ç—É—Å**: –ê—Ä—Ö–∏–≤–Ω—ã–π –±–ª–æ–≥

### üîß **–ü—Ä–∞–≤–∏–ª–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏**

1. **–ó–∞–≥–æ–ª–æ–≤–∫–∏**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
2. **–ö–æ–Ω—Ç–µ–Ω—Ç**: –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–Ω–∞–ª–∏–∑–∞
3. **–¢–µ–≥–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ç–µ–≥–∏ –≤ –æ–±–æ–∏—Ö –±–ª–æ–≥–∞—Ö
4. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å meta_title –∏ meta_description

### üîß **Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**

1. **–ü—Ä–∏ –æ—à–∏–±–∫–µ –≤ 2025 –±–ª–æ–≥–µ**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å 2022_RU
2. **–ü—Ä–∏ –æ—à–∏–±–∫–µ –≤ 2022_RU –±–ª–æ–≥–µ**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å 2025
3. **–ü—Ä–∏ –æ—à–∏–±–∫–µ –≤ –æ–±–æ–∏—Ö**: –í–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É —Å –¥–µ—Ç–∞–ª—è–º–∏
4. **–£—Å–ø–µ—Ö**: –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –±–ª–æ–≥ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª —É—Å–ø–µ—à–Ω–æ

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç API endpoints

```bash
# 2025 Blog (API v5.0) - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
curl -I http://5.75.239.205/ghost/api/admin/posts
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 403 Forbidden (–Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

# 2022_RU Blog (API v2 - Ghost 3.18) - ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
curl -I https://rick.ai/blog/ru/ghost/api/v2/admin/posts
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 403 Forbidden (–Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Ghost:
curl -s https://rick.ai/blog/ru/ | grep "generator"
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: <meta name="generator" content="Ghost 3.18" />
```

### –¢–µ—Å—Ç JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```python
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω
jwt_token = generate_ghost_jwt("your_admin_key_here")
print(f"JWT: {jwt_token}")
```

## üîÑ Dual Publishing Strategy

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–≤–æ–π–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è

1. **2025 Blog**: ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–≥ –¥–ª—è –Ω–æ–≤—ã—Ö –∞–Ω–∞–ª–∏–∑–æ–≤ (API v5.0 —Ä–∞–±–æ—Ç–∞–µ—Ç)
2. **2022_RU Blog**: ‚úÖ –ê—Ä—Ö–∏–≤–Ω—ã–π –±–ª–æ–≥ (API v2 —Ä–∞–±–æ—Ç–∞–µ—Ç, Ghost 3.18)
3. **Fallback**: –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤ –æ–¥–Ω–æ–º –±–ª–æ–≥–µ, –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –¥—Ä—É–≥–æ–º
4. **Quality Validation**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

### ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê –° 2022_RU –ë–õ–û–ì–û–ú**

- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è Ghost: 3.18 (–∏–∑ HTML meta tag)
- ‚úÖ –ù–∞–π–¥–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API: v2
- ‚úÖ API endpoint –¥–æ—Å—Ç—É–ø–µ–Ω: `/ghost/api/v2/admin`
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å hex –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π —Å–µ–∫—Ä–µ—Ç–∞
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π audience `/v2/admin/` –¥–ª—è API v2
- ‚úÖ **–°—Ç–∞—Ç—É—Å**: –û–±–∞ –±–ª–æ–≥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç! –î–≤–æ–π–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

### üîß Quality Threshold

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score**: 70/100
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: —Ç–æ–ª—å–∫–æ –ø—Ä–∏ score >= 70
- **Manual review**: –ø—Ä–∏ score < 70

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á–µ—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

- –°—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
- Quality metrics
- API response times
- Error rates

### üîß –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# –£—Å–ø–µ—à–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è
{
  "success": True,
  "post_url": "https://rick.ai/blog/post-slug",
  "quality_score": 85,
  "publish_time": "2025-08-13T22:00:00Z"
}

# –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
{
  "success": False,
  "error": "JWT generation failed",
  "fallback_used": True
}
```

## üîç **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ê–•–û–î–ö–ò –ò –†–ï–®–ï–ù–ò–Ø**

### ‚úÖ **–ß—Ç–æ –∏–º–µ–Ω–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ**

#### 1. **JWT –°–µ–∫—Ä–µ—Ç - Hex –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**

```python
# ‚ùå –ù–ï –†–ê–ë–û–¢–ê–õ–û:
secret_bytes = secret.encode()  # –°—Ç—Ä–æ–∫–∞ –∫–∞–∫ –±–∞–π—Ç—ã

# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢:
secret_bytes = bytes.fromhex(secret)  # Hex —Å—Ç—Ä–æ–∫–∞ –≤ –±–∞–π—Ç—ã
```

#### 2. **JWT Audience - –í–µ—Ä—Å–∏—è API**

```python
# ‚ùå –ù–ï –†–ê–ë–û–¢–ê–õ–û –¥–ª—è v2:
"aud": "/admin/"  # –¢–æ–ª—å–∫–æ –¥–ª—è v5.0

# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –¥–ª—è –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π:
if api_version == "v2":
    "aud": "/v2/admin/"  # –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è v2
else:
    "aud": "/admin/"     # –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è v5.0
```

#### 3. **URL –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**

```bash
# ‚ùå –ù–ï –†–ê–ë–û–¢–ê–õ–û:
GHOST_URL_2022_RU=https://rick.ai/blog/ru/

# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢:
GHOST_URL_2022_RU=https://rick.ai/blog/ru
```

### üîß **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å**

1. **–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ JWT –æ—à–∏–±–æ–∫** - "invalid signature" —É–∫–∞–∑—ã–≤–∞–ª –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–µ–∫—Ä–µ—Ç–∞
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ audience** - "jwt audience invalid" –ø–æ–∫–∞–∑–∞–ª —Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è v2/v5.0
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints** - curl —Ç–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
4. **–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ù–ï —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ** - —Ç–æ–ª—å–∫–æ –≤ .env —Ñ–∞–π–ª–µ
- **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å .env —Ñ–∞–π–ª** –≤ Git
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT** –¥–ª—è Admin API
- **Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö JWT

### üîß –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π

```bash
# Mac Keychain
security add-generic-password -s "GHOST_ADMIN_KEY_2025" -a ilyakrasinsky -w "your_key_here"

# Environment variables
export GHOST_ADMIN_KEY_2025="your_key_here"
```

## üìã –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### ‚úÖ –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

- [ ] –ö–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ .env —Ñ–∞–π–ª–µ
- [ ] JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] MCP –∫–æ–º–∞–Ω–¥—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Quality validation –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### ‚úÖ –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –æ–±–∞ –±–ª–æ–≥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

## üìÅ **–§–ê–ô–õ–´ –î–õ–Ø –ê–†–•–ò–í–ò–†–û–í–ê–ù–ò–Ø**

### ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (–º–æ–∂–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å)**

```
advising_platform/scripts/
‚îú‚îÄ‚îÄ debug_jwt_ghost.py              # ‚úÖ –ê–†–•–ò–í - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚îú‚îÄ‚îÄ test_jwt.py                     # ‚úÖ –ê–†–•–ò–í - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
‚îú‚îÄ‚îÄ test_ghost_publish_simple.py    # ‚úÖ –ê–†–•–ò–í - –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
‚îú‚îÄ‚îÄ test_ghost_direct.py            # ‚úÖ –ê–†–•–ò–í - –ø—Ä—è–º—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
‚îú‚îÄ‚îÄ test_ghost_tokens.py            # ‚úÖ –ê–†–•–ò–í - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
‚îú‚îÄ‚îÄ test_ghost_api_endpoints.py     # ‚úÖ –ê–†–•–ò–í - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints –∑–∞–≤–µ—Ä—à–µ–Ω–æ
‚îú‚îÄ‚îÄ test_ghost_connectivity.py      # ‚úÖ –ê–†–•–ò–í - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ
‚îú‚îÄ‚îÄ test_2025_blog_publishing.py    # ‚úÖ –ê–†–•–ò–í - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 2025 –±–ª–æ–≥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
‚îú‚îÄ‚îÄ verify_ghost_keys.py            # ‚úÖ –ê–†–•–ò–í - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞
‚îî‚îÄ‚îÄ ghost_mcp_example.py            # ‚úÖ –ê–†–•–ò–í - –ø—Ä–∏–º–µ—Ä—ã MCP –∑–∞–≤–µ—Ä—à–µ–Ω—ã
```

### üîÑ **–ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã (–æ—Å—Ç–∞–≤–∏—Ç—å)**

```
advising_platform/
‚îú‚îÄ‚îÄ src/integrations/ghost_cms/
‚îÇ   ‚îú‚îÄ‚îÄ simple_ghost_publisher.py   # üîÑ –ê–ö–¢–ò–í–ï–ù - –æ—Å–Ω–æ–≤–Ω–æ–π publisher
‚îÇ   ‚îî‚îÄ‚îÄ ghost_publisher_fixed.py    # üîÑ –ê–ö–¢–ò–í–ï–ù - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ publish_all_clients_to_ghost.py      # üîÑ –ê–ö–¢–ò–í–ï–ù - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ publish_all_heroes_analyses.py       # üîÑ –ê–ö–¢–ò–í–ï–ù - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_ghost_publishing.py             # üîÑ –ê–ö–¢–ò–í–ï–ù - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ test_dual_publishing.py                  # üîÑ –ê–ö–¢–ò–í–ï–ù - —Ç–µ—Å—Ç –¥–≤–æ–π–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```

### üìã **–ü—Ä–æ—Ç–æ–∫–æ–ª –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è**

1. **–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É**: `advising_platform/archive/ghost_testing_2025-01-27/`
2. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã**: –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –∞—Ä—Ö–∏–≤
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**: –£–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
4. **–û—Å—Ç–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ**: –¢–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–µ —Ñ–∞–π–ª—ã –≤ scripts/

---

## üéØ JTBD –°—Ü–µ–Ω–∞—Ä–∏–π

**–ö–æ–≥–¥–∞** [–Ω—É–∂–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å HeroesGPT –∞–Ω–∞–ª–∏–∑]
**–†–æ–ª—å** [—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫/–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä]
**–•–æ—á–µ—Ç** [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Ghost –±–ª–æ–≥–∏]
**–ß—Ç–æ–±—ã** [–ø–æ–¥–µ–ª–∏—Ç—å—Å—è insights —Å –∫–æ–º–∞–Ω–¥–æ–π –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏]
**–ß—Ç–æ –≤–∏–¥–∏—Ç:** [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ø–æ—Å—Ç—ã]

**–ú–µ—Å—Ç–æ –¥–ª—è –¥–∏–∑–∞–π–Ω-–∏–Ω—ä–µ–∫—Ü–∏–∏:** [–ú–æ–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã]
