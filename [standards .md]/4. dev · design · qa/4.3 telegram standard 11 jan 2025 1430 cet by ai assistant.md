# üì± Telegram Standard

<!-- üîí PROTECTED SECTION: BEGIN -->type: standard

standard_id: 4.3
logical_id: standard:telegram_standard
updated: 11 Jan 2025, 14:30 CET by AI Assistant
previous version: N/A (initial version)
based on: [Registry Standard](abstract://standard:registry_standard), –≤–µ—Ä—Å–∏—è 6.6, 10 September 2025, 19:30 CET by AI Assistant
integrated: [Task Master Standard](abstract://standard:task_master_standard), –≤–µ—Ä—Å–∏—è 1.4, 15 May 2025, 18:20 CET by AI Assistant, [MCP Workflow Standard](abstract://standard:mcp_workflow_standard)
version: 1.0
status: Active
tags: standard, telegram, mcp, integration, workflow

<!-- üîí PROTECTED SECTION: END -->

---

## üõ°Ô∏è –õ–∏—Ü–µ–Ω–∑–∏—è –∏ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.** –î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é –ò–ª—å–∏ –ö—Ä–∞—Å–∏–Ω—Å–∫–æ–≥–æ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –≤ –ª—é–±—ã—Ö —Ü–µ–ª—è—Ö –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è –∞–≤—Ç–æ—Ä–∞. –ê–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –°–®–ê.

**Magic Rick Inc.**, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ —à—Ç–∞—Ç–µ –î–µ–ª–∞–≤—ç—Ä (–°–®–ê), –¥–µ–π—Å—Ç–≤—É–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –∞–≤—Ç–æ—Ä–∞ –≤ —Ü–µ–ª—è—Ö –∑–∞—â–∏—Ç—ã –µ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –±—É–¥–µ—Ç –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª—é–±—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –°–®–ê.

---

## üéØ –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Telegram —Å Cursor IDE —á–µ—Ä–µ–∑ MCP (Model Context Protocol), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ checklist'–æ–≤, –∑–∞–¥–∞—á –∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram. –°—Ç–∞–Ω–¥–∞—Ä—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö Registry Standard –∏ Task Master Standard –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

---

## üîÑ MCP Workflow Integration Requirements

### Atomic Operation Principle
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Telegram —á–µ—Ä–µ–∑ MCP –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ —à–∞–≥–∏ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏:

1. **–ö–∞–∂–¥—ã–π —à–∞–≥ = –æ—Ç–¥–µ–ª—å–Ω–∞—è MCP –∫–æ–º–∞–Ω–¥–∞ —Å —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π**
2. **–ù–∏–∫–∞–∫–∏—Ö –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** - –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ —ç—Ç–∞–ø—ã
3. **–¢–æ—á–∫–∞ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º
4. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞** - –∫–∞–∂–¥—ã–π —à–∞–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—Ä–∞—Ç–∏–º—ã–º
5. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è workflow –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

### Mandatory Reflection Points
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: "–†–∞–±–æ—Ç–∞—é –ª–∏ —è —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏?"
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞: "–°–ª–µ–¥—É—é –ª–∏ —è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–µ?"
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞: "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–∞—á–µ—Å—Ç–≤–∞?"
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º: "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —ç—Ç–æ –≤—Å–µ–º –ø—Ä–∏–º–µ–Ω–∏–º—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º?"

### Telegram Workflow Example
–ü—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è checklist –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞—Ç–æ–º–∞—Ä–Ω—ã–π workflow:
1. validate_telegram_credentials ‚Üí [reflection]
2. find_or_create_chat ‚Üí [reflection]
3. send_initial_checklist ‚Üí [reflection]
4. track_message_id ‚Üí [reflection]
5. update_checklist_item ‚Üí [reflection]
6. validate_telegram_response ‚Üí [reflection]
7. log_telegram_activity ‚Üí [reflection]

---

## üèóÔ∏è Telegram MCP Architecture

### Unified Telegram MCP Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Cursor IDE    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Telegram MCP    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   Telegram      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ  Server          ‚îÇ    ‚îÇ   API           ‚îÇ
‚îÇ  MCP Commands   ‚îÇ    ‚îÇ  (Python)        ‚îÇ    ‚îÇ  (Telethon)     ‚îÇ
‚îÇ  73 Tools       ‚îÇ    ‚îÇ  FastMCP         ‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚ñº                        ‚ñº                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Profile        ‚îÇ    ‚îÇ  Keychain        ‚îÇ    ‚îÇ  Session        ‚îÇ
‚îÇ  Management     ‚îÇ    ‚îÇ  Integration     ‚îÇ    ‚îÇ  Management     ‚îÇ
‚îÇ  (lisa/ik)      ‚îÇ    ‚îÇ  (macOS)         ‚îÇ    ‚îÇ  (String/File)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Core Components
- **Telegram MCP Server** (Python) - –û—Å–Ω–æ–≤–Ω–æ–π MCP —Å–µ—Ä–≤–µ—Ä —Å 73 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- **Profile Manager** (Python) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ (lisa, ikrasinsky)
- **Keychain Integration** (Python) - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π –≤ macOS Keychain
- **Session Management** (Python) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram —Å–µ—Å—Å–∏—è–º–∏
- **Error Handling** (Python) - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

---

## üìã JTBD-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Telegram Standard

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Ç–ø—Ä–∞–≤–∫–∞ checklist –≤ Telegram

**–ö–æ–≥–¥–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å checklist –≤ Telegram –∏–∑ Cursor,
**–†–æ–ª—å** AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫,
**–•–æ—á–µ—Ç** –±—ã—Å—Ç—Ä–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –≤ Telegram,
**–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å** –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á –º–µ–∂–¥—É Cursor –∏ Telegram,
**–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º** –ø–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ MCP –∫–æ–º–∞–Ω–¥—ã,
**–ü–æ–Ω–∏–º–∞–µ—Ç** –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å telegram-mcp —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π,
**–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** checklist –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —á–∞—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ checklist –≤ Telegram

**–ö–æ–≥–¥–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π checklist –≤ Telegram,
**–†–æ–ª—å** AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∏–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫,
**–•–æ—á–µ—Ç** –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø—É–Ω–∫—Ç—ã,
**–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å** –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ Telegram,
**–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º** –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ MCP,
**–ü–æ–Ω–∏–º–∞–µ—Ç** –∫–∞–∫ –Ω–∞–π—Ç–∏ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ,
**–û–±–Ω–æ–≤–ª—è–µ—Ç** checklist —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ checklist

**–ö–æ–≥–¥–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π checklist –¥–ª—è –∫–æ–º–∞–Ω–¥—ã,
**–†–æ–ª—å** AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞,
**–•–æ—á–µ—Ç** —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å checklist –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º,
**–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å** –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á,
**–ú—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º** –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π,
**–ü–æ–Ω–∏–º–∞–µ—Ç** –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –≥—Ä—É–ø–ø–∞–º–∏ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏,
**–°–æ–∑–¥–∞–µ—Ç** –≥—Ä—É–ø–ø—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç checklist —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞.

---

## üîß Telegram MCP Commands Classification

### ‚úÖ **MCP Commands MUST be:**
- **User Actions** - —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —Å–¥–µ–ª–∞—Ç—å
- **Main Workflows** - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã
- **External Integrations** - –≤—ã–∑–æ–≤—ã API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏
- **Public Interfaces** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚ùå **MCP Commands MUST NOT be:**
- **Helper Functions** - –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É—Ç–∏–ª–∏—Ç—ã
- **Internal Logic** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- **Private Methods** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–æ–≤
- **Utility Operations** - —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –ø–∞—Ä—Å–∏–Ω–≥

### üìã **Classification Criteria:**

| Criterion | MCP Command | Internal Function |
|-----------|-------------|-------------------|
| **User Action** | ‚úÖ Yes | ‚ùå No |
| **Public Interface** | ‚úÖ Yes | ‚ùå No |
| **External Integration** | ‚úÖ Yes | ‚ùå No |
| **Validation/Formatting** | ‚ùå No | ‚úÖ Yes |
| **Internal Calculations** | ‚ùå No | ‚úÖ Yes |
| **Utility Operations** | ‚ùå No | ‚úÖ Yes |

### üîß **Examples of Correct Classification:**

```python
# ‚úÖ MCP COMMAND - user action
@mcp.tool()
async def send_message(chat_id: int, message: str) -> str:
    """Send a message to a specific chat"""
    entity = await client.get_entity(chat_id)
    await client.send_message(entity, message)
    return "Message sent successfully."

# ‚úÖ MCP COMMAND - user action
@mcp.tool()
async def edit_message(chat_id: int, message_id: int, new_text: str) -> str:
    """Edit a message you sent"""
    entity = await client.get_entity(chat_id)
    await client.edit_message(entity, message_id, new_text)
    return f"Message {message_id} edited."

# ‚ùå INTERNAL FUNCTION - helper logic
async def _validate_chat_id(chat_id: int) -> bool:
    """Validate chat ID"""
    return isinstance(chat_id, int) and chat_id != 0

# ‚ùå INTERNAL FUNCTION - utility operation
async def _format_checklist_markdown(tasks: list) -> str:
    """Format checklist as markdown"""
    return "\n".join([f"- [ ] {task}" for task in tasks])
```

---

## üìä Telegram MCP Commands Reference

### Core Messaging Commands

| Command | Description | Parameters | Return Type |
|---------|-------------|------------|-------------|
| `send_message` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç | `chat_id: int, message: str` | `str` |
| `edit_message` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ | `chat_id: int, message_id: int, new_text: str` | `str` |
| `delete_message` | –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ | `chat_id: int, message_id: int` | `str` |
| `forward_message` | –ü–µ—Ä–µ—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ | `from_chat_id: int, message_id: int, to_chat_id: int` | `str` |
| `reply_to_message` | –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ | `chat_id: int, message_id: int, text: str` | `str` |

### Chat Management Commands

| Command | Description | Parameters | Return Type |
|---------|-------------|------------|-------------|
| `get_chats` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ | `page: int, page_size: int` | `str` |
| `get_chat` | –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Ç–µ | `chat_id: int` | `str` |
| `create_group` | –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É | `title: str, user_ids: list` | `str` |
| `create_channel` | –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª | `title: str, about: str, megagroup: bool` | `str` |
| `edit_chat_title` | –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞ | `chat_id: int, title: str` | `str` |

### Message Management Commands

| Command | Description | Parameters | Return Type |
|---------|-------------|------------|-------------|
| `get_messages` | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —á–∞—Ç–∞ | `chat_id: int, page: int, page_size: int` | `str` |
| `list_messages` | –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ | `chat_id: int, limit: int, search_query: str, from_date: str, to_date: str` | `str` |
| `search_messages` | –ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ | `chat_id: int, query: str, limit: int` | `str` |
| `get_message_context` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è | `chat_id: int, message_id: int, context_size: int` | `str` |

### Pin and Archive Commands

| Command | Description | Parameters | Return Type |
|---------|-------------|------------|-------------|
| `pin_message` | –ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ | `chat_id: int, message_id: int` | `str` |
| `unpin_message` | –û—Ç–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ | `chat_id: int, message_id: int` | `str` |
| `get_pinned_messages` | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è | `chat_id: int` | `str` |
| `archive_chat` | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç | `chat_id: int` | `str` |
| `unarchive_chat` | –†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç | `chat_id: int` | `str` |

### Contact Management Commands

| Command | Description | Parameters | Return Type |
|---------|-------------|------------|-------------|
| `list_contacts` | –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ | - | `str` |
| `search_contacts` | –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ | `query: str` | `str` |
| `add_contact` | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç | `phone: str, first_name: str, last_name: str` | `str` |
| `delete_contact` | –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç | `user_id: int` | `str` |
| `get_contact_ids` | –ü–æ–ª—É—á–∏—Ç—å ID –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ | - | `str` |

---

## üöÄ Telegram Checklist Workflow

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ checklist

```python
# STEP 1: –í–∞–ª–∏–¥–∞—Ü–∏—è —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Telegram
async def validate_telegram_credentials() -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Telegram MCP —Å–µ—Ä–≤–µ—Ä–∞"""
    try:
        result = await mcp_telegram_mcp_get_me()
        return "success" in result.lower()
    except Exception as e:
        logger.error(f"Telegram credentials validation failed: {e}")
        return False

# STEP 2: –ü–æ–∏—Å–∫ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞
async def find_or_create_chat(chat_identifier: str) -> int:
    """–ù–∞–π—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π"""
    try:
        # –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ —á–∞—Ç –ø–æ ID –∏–ª–∏ –∏–º–µ–Ω–∏
        if chat_identifier.isdigit():
            chat_id = int(chat_identifier)
            result = await mcp_telegram_mcp_get_chat(chat_id)
            if "error" not in result.lower():
                return chat_id
        else:
            # –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞
            result = await mcp_telegram_mcp_get_direct_chat_by_contact(chat_identifier)
            if "error" not in result.lower():
                # –ò–∑–≤–ª–µ—á—å chat_id –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                return extract_chat_id_from_result(result)
        
        # –ï—Å–ª–∏ —á–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
        return await create_new_chat(chat_identifier)
    except Exception as e:
        logger.error(f"Chat creation/finding failed: {e}")
        raise
```

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ checklist

```python
# STEP 3: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ checklist
async def send_checklist(chat_id: int, checklist_data: dict) -> dict:
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å checklist –≤ Telegram"""
    try:
        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ checklist –≤ markdown
        formatted_message = format_checklist_markdown(checklist_data)
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        result = await mcp_telegram_mcp_send_message(chat_id, formatted_message)
        
        if "success" in result.lower():
            # –ü–æ–ª—É—á–µ–Ω–∏–µ ID –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
            message_id = await get_last_message_id(chat_id)
            
            return {
                "success": True,
                "chat_id": chat_id,
                "message_id": message_id,
                "formatted_message": formatted_message
            }
        else:
            return {"success": False, "error": result}
            
    except Exception as e:
        logger.error(f"Checklist sending failed: {e}")
        return {"success": False, "error": str(e)}

# STEP 4: –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ checklist (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
async def pin_checklist(chat_id: int, message_id: int) -> bool:
    """–ó–∞–∫—Ä–µ–ø–∏—Ç—å checklist –≤ —á–∞—Ç–µ"""
    try:
        result = await mcp_telegram_mcp_pin_message(chat_id, message_id)
        return "success" in result.lower()
    except Exception as e:
        logger.error(f"Checklist pinning failed: {e}")
        return False
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ checklist

```python
# STEP 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ checklist
async def update_checklist_item(chat_id: int, message_id: int, 
                               item_index: int, new_status: str, 
                               original_checklist: dict) -> bool:
    """–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—É–Ω–∫—Ç–∞ –≤ checklist"""
    try:
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö checklist
        updated_checklist = original_checklist.copy()
        if 0 <= item_index < len(updated_checklist["items"]):
            updated_checklist["items"][item_index]["status"] = new_status
            updated_checklist["last_updated"] = datetime.now().isoformat()
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
        updated_message = format_checklist_markdown(updated_checklist)
        
        # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        result = await mcp_telegram_mcp_edit_message(chat_id, message_id, updated_message)
        
        return "success" in result.lower()
        
    except Exception as e:
        logger.error(f"Checklist update failed: {e}")
        return False

# STEP 6: –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
async def validate_checklist_update(chat_id: int, message_id: int) -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è checklist"""
    try:
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        result = await mcp_telegram_mcp_get_message_context(chat_id, message_id, 1)
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        return "last_updated" in result and "success" not in result.lower()
        
    except Exception as e:
        logger.error(f"Checklist validation failed: {e}")
        return False
```

### 4. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ checklist

```python
def format_checklist_markdown(checklist_data: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å checklist –≤ markdown –¥–ª—è Telegram"""
    title = checklist_data.get("title", "Checklist")
    items = checklist_data.get("items", [])
    last_updated = checklist_data.get("last_updated", "")
    
    # –ó–∞–≥–æ–ª–æ–≤–æ–∫
    message = f"üìã **{title}**\n\n"
    
    # –ü—É–Ω–∫—Ç—ã checklist
    for i, item in enumerate(items, 1):
        status = item.get("status", "pending")
        text = item.get("text", "")
        
        if status == "completed":
            checkbox = "‚úÖ"
        elif status == "in_progress":
            checkbox = "üîÑ"
        else:
            checkbox = "‚è≥"
        
        message += f"{checkbox} **{i}.** {text}\n"
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
    if last_updated:
        message += f"\n_–û–±–Ω–æ–≤–ª–µ–Ω–æ: {last_updated}_"
    
    return message

def extract_chat_id_from_result(result: str) -> int:
    """–ò–∑–≤–ª–µ—á—å chat_id –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ MCP –∫–æ–º–∞–Ω–¥—ã"""
    import re
    match = re.search(r'ID:\s*(\d+)', result)
    if match:
        return int(match.group(1))
    raise ValueError("Could not extract chat_id from result")
```

---

## üîê Security and Credentials Management

### Profile Management

Telegram MCP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TELEGRAM_USER`:

#### **LISA PROFILE:**
```bash
# Keychain keys
lisa_tg_api_key (service: lisa_tg_api_key, account: lisa)
lisa_tg_app_hash (service: lisa_tg_app_hash, account: lisa)  
lisa_tg_session (service: lisa_tg_session, account: lisa)
lisa_tg_phone (service: lisa_tg_phone, account: lisa)
```

#### **IK PROFILE (ikrasinsky):**
```bash
# New format keys
ik_tg_api_id (service: ik_tg_api_id, account: ilyakrasinsky)
ik_tg_api_hash (service: ik_tg_api_hash, account: ilyakrasinsky)
ik_tg_session (service: ik_tg_session, account: ilyakrasinsky)
ik_tg_phone (service: ik_tg_phone, account: ilyakrasinsky)

# Legacy format keys (for backward compatibility)
telegram_api_id (service: telegram_api_id, account: ilyakrasinsky)
telegram_api_hash (service: telegram_api_hash, account: ilyakrasinsky)
telegram_session (service: telegram_session, account: ilyakrasinsky)
```

### Configuration in Cursor

```json
{
  "mcpServers": {
    "telegram-mcp": {
      "command": "/path/to/.venv/bin/python",
      "args": ["/path/to/heroes_platform/shared/credentials_wrapper.py", "telegram", "/path/to/.venv/bin/python", "/path/to/heroes_platform/telegram-mcp/main.py"],
      "env": {
        "PYTHONPATH": "/path/to/heroes_platform",
        "TELEGRAM_USER": "ikrasinsky"
      }
    }
  }
}
```

### Profile Switching

```bash
# Switch to LISA profile
sed -i 's/"TELEGRAM_USER": "ikrasinsky"/"TELEGRAM_USER": "lisa"/' .cursor/mcp.json

# Switch to IK profile  
sed -i 's/"TELEGRAM_USER": "lisa"/"TELEGRAM_USER": "ikrasinsky"/' .cursor/mcp.json

# Check current profile
grep "TELEGRAM_USER" .cursor/mcp.json
```

---

## üêõ Troubleshooting and Debugging

### Common Issues

#### 1. "No tools or prompts" –≤ Cursor
**–°–∏–º–ø—Ç–æ–º—ã:**
- Cursor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "No tools or prompts" –¥–ª—è telegram-mcp
- MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ telegram-mcp

**Root Cause Analysis:**
1. **Why #1**: –ü–æ—á–µ–º—É Cursor –Ω–µ –≤–∏–¥–∏—Ç Telegram MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã?
   ‚Üí Cursor –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ telegram-mcp —Å–µ—Ä–≤–µ—Ä—É

2. **Why #2**: –ü–æ—á–µ–º—É Cursor –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É?
   ‚Üí –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `${workspaceFolder}` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP

3. **Why #3**: –ü–æ—á–µ–º—É –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `${workspaceFolder}` –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è?
   ‚Üí Cursor –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `${workspaceFolder}` –≤ mcp.json

4. **Why #4**: –ü–æ—á–µ–º—É Cursor –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é?
   ‚Üí –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ Cursor

5. **Why #5**: –ü–æ—á–µ–º—É –µ—Å—Ç—å —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ?
   ‚Üí **–ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê**: Cursor —Ç—Ä–µ–±—É–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ `${workspaceFolder}` –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `${HOME}`, `${PATH}`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

#### 2. –ö–ª—é—á–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
**–°–∏–º–ø—Ç–æ–º—ã:**
- "No credentials found" –≤ –ª–æ–≥–∞—Ö
- –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Telegram

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π –∫–ª—é—á–µ–π –≤ keychain
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ account name —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—é
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `telegram_profile_manager.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### 3. "Cannot send requests while disconnected"
**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Telegram –∫–ª–∏–µ–Ω—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä

### Debugging Commands

```bash
# Check profile detection
grep "üîë Using TELEGRAM_USER" logs/mcp_errors.log

# Check keychain keys
security dump-keychain | grep -i telegram

# Test profile manually
TELEGRAM_USER=lisa python main.py --help
TELEGRAM_USER=ikrasinsky python main.py --help

# Test credentials
python main.py --test-credentials

# List available tools
python main.py --list-tools
```

---

## üìà Monitoring and Quality Assurance

### Key Metrics

1. **Message Delivery Rate**: % —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
2. **Update Success Rate**: % —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö checklist'–æ–≤
3. **Response Time**: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ Telegram API
4. **Error Rate**: % –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Telegram
5. **Profile Switch Time**: –í—Ä–µ–º—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–æ—Ñ–∏–ª—è–º–∏

### Quality Checklist

**Before executing ANY Telegram MCP command:**
- [ ] Telegram Standard v1.0 read and understood
- [ ] Profile configuration validated
- [ ] Credentials available in keychain
- [ ] Chat ID or contact identified
- [ ] Message content formatted correctly
- [ ] Error handling implemented
- [ ] Logging configured

**After executing ANY Telegram MCP command:**
- [ ] Response validated for success/error
- [ ] Message ID tracked (if applicable)
- [ ] Activity logged
- [ ] Error handling triggered (if needed)
- [ ] User notified of result
- [ ] State updated appropriately

### Continuous Improvement

- **Monitor error patterns** - –ê–Ω–∞–ª–∏–∑ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ—à–∏–±–æ–∫
- **Track performance metrics** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Update documentation** - –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **Test new features** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Telegram API
- **Optimize workflows** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üìö References and Resources

### Documentation
- [Telegram MCP Server README](heroes_platform/telegram-mcp/README.md)
- [Telegram MCP Usage Guide](heroes_platform/telegram-mcp/USAGE.md)
- [Profile Management Guide](heroes_platform/telegram-mcp/PROFILE_MANAGEMENT.md)
- [Registry Standard](abstract://standard:registry_standard)
- [Task Master Standard](abstract://standard:task_master_standard)

### External Resources
- [Telethon Documentation](https://docs.telethon.dev/)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Model Context Protocol](https://modelcontextprotocol.io/)
- [Cursor IDE Documentation](https://cursor.sh/docs)

### Source Code
- [Telegram MCP Main Server](heroes_platform/telegram-mcp/main.py)
- [Profile Manager](heroes_platform/telegram-mcp/telegram_profile_manager.py)
- [Keychain Integration](heroes_platform/telegram-mcp/keychain_integration.py)
- [Chat Exporter](heroes_platform/telegram-mcp/chat_exporter.py)

---

**–õ–∏—Ü–µ–Ω–∑–∏—è**: ¬© 2025 Ilya Krasinsky. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
–°—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ heroes-platform.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Å –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è.
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è Magic Rick Inc –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–∞–≤–æ–≤—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞—â–∏—Ç—ã.
